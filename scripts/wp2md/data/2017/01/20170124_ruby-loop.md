---
templateKey: blog-post
title: \[Ruby\]Rubyのループ ( while, times ,for , each , step, upto などなど)
slug: 2017/01/24/ruby-loop
description: Rubyのループって便利ですよね!!

timesとか簡単に回数指定してかけるし、
日付の配列を作ってループさせたりできるし。

というわけでRubyのループの構文に絞って紹介していきます。

&nbsp;
<h3>While 文</h3>
while文。
条件式がTrueである限りループし続けます。
ある一定の条件で抜けたい場合は、breakを挿入します。
<pre><code class="language-ruby">idx = 0
while idx &lt; 2 do
  pp idx
end
</code></pre>
&nbsp;
<h3>Tim
createdAt: 2017-01-24 23:00:46
updatedAt: 2018-08-26 12:41:41
thumbnail: http://ver-1-0.net/wp-content/uploads/2017/01/5ntkpxqt54y-sai-kiran-anagani.jpg
categories: 
  - engineering
  - for-beginner
---

Rubyのループって便利ですよね!!

timesとか簡単に回数指定してかけるし、
日付の配列を作ってループさせたりできるし。

というわけでRubyのループの構文に絞って紹介していきます。

&nbsp;
<h3>While 文</h3>
while文。
条件式がTrueである限りループし続けます。
ある一定の条件で抜けたい場合は、breakを挿入します。
<pre><code class="language-ruby">idx = 0
while idx &lt; 2 do
  pp idx
end
</code></pre>
&nbsp;
<h3>Times 文</h3>
Times文。
指定した回数だけ処理を繰り返す事ができます。
下に紹介した例ではidxは 0,1,2,3・・・・108となります。
<pre><code class="language-ruby">108.times do |idx|
pp "ボーン"
end
</code></pre>
&nbsp;
<h3>for 文</h3>
for文。
指定した回数だけ処理を繰り返す事ができます。
下に紹介した例ではidxは a,b,c~zとなります。
う〜ん便利。これでアルファベットを覚えずにすみますね。
<pre><code class="language-ruby">for alphabet in 'a'..'z' do
  printf "#{alphabet}\n"
end
</code></pre>
&nbsp;
<h3>each 文</h3>
いわゆるforeach文ですね。
<pre><code class="language-ruby">array = [ "I", "Have" , "A" , "Pen!!!" ]
array.each do | val |
  p array
end
</code></pre>
ハッシュについて使ってあげると
添え字も取得できます。
<pre><code class="language-ruby">h = {
 "セ・リーグ" =&gt; [ "巨人", "阪神", "中日" , "ヤクルト" , "広島","横浜" ],
 "パ・リーグ" =&gt; [ "ソフトバンク", "ロッテ", "日ハム" , "オリックス" , "西武","楽天" ]
 }
h.each do | key , val |
  p key 
  p val
end
</code></pre>
&nbsp;
<pre><code class="language-ruby">$ruby test.rb
"セ・リーグ"
["巨人", "阪神", "中日", "ヤクルト", "広島", "横浜"]
"パ・リーグ"
["巨人", "阪神", "中日", "ヤクルト", "広島", "横浜"]
</code></pre>
<strong>これは大分使います!!</strong>

&nbsp;
<h3>step , upto , downto</h3>
upto は以下のように書くと20~30まで実行というようになります。
<pre><code class="language-ruby">20.upto(30) do |idx|
   p idx
end
</code></pre>
downto というのもある
<pre><code class="language-ruby">20.upto(30) do |idx|
   p idx
end
</code></pre>
さらに極め付けはstepです。
1から100までは2つずつカウントしてくれます。
<pre><code>1.step(100, 2) do |odd|
   p odd
end
</code></pre>
&nbsp;
<h3>おまけ</h3>
個人的にすごいなと思うのは
日付、時刻のカウントですかね。

例) 1~3月の日付を全て表示
<pre><code class="language-ruby">require "date"
jan = Date.parse("2017/1/1")
march_end = Date.parse("2017/3/31")
(jan..march_end).each do | day |
	  p day.strftime("%Y/%m/%d")
end
</code></pre>
例) 1日を30分単位で出力
<pre><code class="language-ruby">require "time"
first = Time.parse("2017/1/1 00:00:00")
last = Time.parse("2017/1/1  23:59:59")

(first.to_i..last.to_i).step( 30 * 60  ) do | t | 
          p Time.at(t)
end
</code></pre>
以上!!
